<!DOCTYPE html>
<html>
<head>
  <title>Bingo Host</title>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>
<body>

<h1>ðŸŽ± Bingo Host</h1>
<p id="link"></p>
<button onclick="draw()">Trek nummer</button>
<h2 id="num">-</h2>

<script>
const peer = new Peer();
let conns = [];

peer.on("open", id => {
  document.getElementById("link").innerHTML =
    `Invite link:<br><b>${location.origin}/player.html?host=${id}</b>`;
});

peer.on("connection", c => conns.push(c));

function draw() {
  const n = Math.floor(Math.random() * 75) + 1;
  document.getElementById("num").innerText = n;
  conns.forEach(c => c.send(n));
}
</script>

</body>
</html>
